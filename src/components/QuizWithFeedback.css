/* ============ Palette tokens (inherits your site theme) ============ */
:root {
    --q-accent: var(--ifm-color-primary);
    --q-surface: var(--ifm-background-surface-color);
    --q-border: var(--ifm-color-emphasis-200);
    --q-text: var(--ifm-font-color-base);
    --q-correct: #16a34a;   /* green-600 */
    --q-incorrect: #dc2626; /* red-600 */
}
html[data-theme='dark'] {
    --q-correct: #22c55e;
    --q-incorrect: #ef4444;
}

/* ============ Container / header ============ */
.quiz-container {
    max-width: 840px;
    margin: auto;
    padding: 1.75rem;
    border-radius: 18px;
    position: relative;
    background: linear-gradient(180deg,
    color-mix(in srgb, var(--q-accent) 6%, var(--q-surface)) 0%,
    var(--q-surface) 60%) ;
    border: 1px solid var(--q-border);
    box-shadow: 0 20px 40px -24px rgba(0,0,0,.25), 0 2px 10px rgba(0,0,0,.04);
    overflow: hidden;
}
.quiz-container::before{
    content:"";
    position:absolute; inset:-2px;
    background: conic-gradient(from 180deg at 50% 50%,
    color-mix(in srgb, var(--q-accent) 40%, transparent),
    transparent 60%, color-mix(in srgb, var(--q-accent) 25%, transparent));
    filter: blur(24px);
    opacity:.15; pointer-events:none;
}

.quiz-progress{
    font-size:.95rem;
    font-weight:600;
    letter-spacing:.2px;
    margin-bottom:.75rem;
    color: color-mix(in srgb, var(--q-accent) 70%, var(--q-text));
}

/* ============ Question ============ */
.quiz-question{
    font-size:1.35rem;
    font-weight:800;
    line-height:1.35;
    margin: .25rem 0 1rem;
}

/* ============ Options list ============ */
.quiz-options{
    list-style:none; padding:0; margin:0 0 1rem;
    display:grid; gap:.8rem;
}

/* Base button as a card */
.quiz-button{
    position:relative;
    width:100%;
    padding: 1rem 1rem 1rem 3.25rem;
    border:1px solid var(--q-border);
    border-radius:14px;
    background: var(--q-surface);
    color: var(--q-text);
    text-align:left;
    cursor:pointer;
    box-shadow: 0 4px 10px rgba(0,0,0,.045);
    transition: transform .12s ease, box-shadow .2s ease, border-color .2s ease, background-color .2s ease;
    overflow:hidden;
}

/* Letter badge (A/B/C/D) */
.quiz-options li:nth-child(1) .quiz-button::before { content:"A"; }
.quiz-options li:nth-child(2) .quiz-button::before { content:"B"; }
.quiz-options li:nth-child(3) .quiz-button::before { content:"C"; }
.quiz-options li:nth-child(4) .quiz-button::before { content:"D"; }
.quiz-button::before{
    position:absolute; left:.9rem; top:50%; transform:translateY(-50%);
    width:2.1rem; height:2.1rem; border-radius:10px;
    display:grid; place-items:center;
    font-weight:800;
    background: color-mix(in srgb, var(--q-accent) 16%, var(--q-surface));
    color: color-mix(in srgb, var(--q-accent) 75%, var(--q-text));
    border: 1px solid color-mix(in srgb, var(--q-accent) 40%, transparent);
}

/* Hover / focus */
.quiz-button:hover:not(:disabled){
    transform: translateY(-1px);
    border-color: color-mix(in srgb, var(--q-accent) 55%, var(--q-border));
    box-shadow: 0 10px 18px -10px rgba(0,0,0,.18), 0 4px 10px rgba(0,0,0,.05);
    background: color-mix(in srgb, var(--q-accent) 6%, var(--q-surface));
}
.quiz-button:focus-visible{
    outline:none;
    box-shadow: 0 0 0 4px color-mix(in srgb, var(--q-accent) 28%, transparent),
    0 6px 16px rgba(0,0,0,.18);
}

/* Subtle ripple on click */
.quiz-button:active::after{
    content:""; position:absolute; left:50%; top:50%;
    transform: translate(-50%,-50%) scale(0);
    width:400px; height:400px; border-radius:50%;
    background: radial-gradient(circle,
    color-mix(in srgb, var(--q-accent) 18%, transparent) 0%,
    transparent 60%);
    animation: q-ripple .6s ease-out forwards;
}
@keyframes q-ripple{ to{ transform: translate(-50%,-50%) scale(1); opacity:0; } }

/* Selected states */
.quiz-button.correct{
    background: linear-gradient(180deg,
    color-mix(in srgb, var(--q-correct) 18%, var(--q-surface)) ,
    var(--q-surface) 60%);
    border-color: color-mix(in srgb, var(--q-correct) 60%, var(--q-border));
    color: color-mix(in srgb, var(--q-correct) 85%, var(--q-text));
    animation: q-pop .25s ease-out;
}
.quiz-button.correct::after{
    content:"✓";
    position:absolute; right:.9rem; top:50%; transform:translateY(-50%);
    width:2rem; height:2rem; border-radius:50%;
    background: var(--q-correct);
    color:white; font-weight:900; display:grid; place-items:center;
    box-shadow: 0 6px 14px color-mix(in srgb, var(--q-correct) 55%, transparent);
}

/* celebratory sparks inside the correct button */
.quiz-button.correct > i, .quiz-button.correct > em { display:none; } /* (safety) */
.quiz-button.correct::before{ /* badge turns green */
    background: color-mix(in srgb, var(--q-correct) 22%, var(--q-surface));
    color:white; border-color: color-mix(in srgb, var(--q-correct) 60%, transparent);
}
.quiz-button.incorrect{
    background: linear-gradient(180deg,
    color-mix(in srgb, var(--q-incorrect) 14%, var(--q-surface)),
    var(--q-surface) 60%);
    border-color: color-mix(in srgb, var(--q-incorrect) 60%, var(--q-border));
    color: color-mix(in srgb, var(--q-incorrect) 80%, var(--q-text));
    animation: q-shake .22s ease-in-out;
}
.quiz-button.incorrect::after{
    content:"✕";
    position:absolute; right:.9rem; top:50%; transform:translateY(-50%);
    width:2rem; height:2rem; border-radius:50%;
    background: var(--q-incorrect);
    color:white; font-weight:900; display:grid; place-items:center;
    box-shadow: 0 6px 14px color-mix(in srgb, var(--q-incorrect) 55%, transparent);
}

/* Micro-interactions */
@keyframes q-pop{ 0%{ transform:scale(.98);} 70%{ transform:scale(1.02);} 100%{ transform:scale(1);} }
@keyframes q-shake{
    0%,100%{ transform:translateX(0); }
    25%{ transform:translateX(-4px); }
    50%{ transform:translateX(4px); }
    75%{ transform:translateX(-2px); }
}

/* ============ Feedback panel ============ */
.quiz-feedback{
    margin-top: 1rem;
    padding: .9rem 1rem .95rem 1rem;
    border-left: 4px solid color-mix(in srgb, var(--q-accent) 70%, transparent);
    background: color-mix(in srgb, var(--q-accent) 12%, var(--q-surface));
    color: color-mix(in srgb, var(--q-accent) 85%, var(--q-text));
    border-radius: 10px;
    box-shadow: var(--ifm-global-shadow-sm);
    font-style: normal;
    animation: q-slideUp .25s ease-out;
}
@keyframes q-slideUp{
    from{ opacity:0; transform: translateY(6px); }
    to{ opacity:1; transform: translateY(0); }
}

/* ============ Next / Finish button ============ */
.quiz-next{
    margin-top: 1.25rem;
    padding: .7rem 1.25rem;
    border: none;
    border-radius: 12px;
    background: linear-gradient(90deg,
    color-mix(in srgb, var(--q-accent) 85%, #ffffff) ,
    color-mix(in srgb, var(--q-accent) 65%, #ffffff));
    color: white;
    font-weight: 800;
    letter-spacing:.3px;
    cursor: pointer;
    box-shadow: 0 12px 24px -12px color-mix(in srgb, var(--q-accent) 70%, transparent);
    transition: transform .15s ease, box-shadow .2s ease, filter .2s ease;
}
.quiz-next:hover{ transform: translateY(-1px); filter: brightness(1.05); }
.quiz-next::after{
    content:"→"; margin-left:.5rem; font-weight:900;
    transition: transform .15s ease;
}
.quiz-next:hover::after{ transform: translateX(4px); }

/* ============ Result screen ============ */
.quiz-result{
    text-align:center;
    padding: .5rem 0 1rem;
    position: relative;
}
.quiz-result h2{ margin-bottom: .5rem; }
.quiz-result p{ margin-bottom: 1rem; font-size:1.05rem; }

/* Celebration confetti (CSS-only) */
.quiz-result::before, .quiz-result::after{
    content:"";
    position:absolute; left:50%; top:0; width:2px; height:2px; pointer-events:none;
    background: transparent;
    box-shadow:
            -220px -20px 0 6px #f59e0b, -180px -10px 0 6px #22c55e, -140px -30px 0 6px #3b82f6,
            -100px -25px 0 6px #ef4444,  -60px -15px 0 6px #a855f7, -20px -35px 0 6px #06b6d4,
            20px -28px 0 6px #f59e0b,   60px -22px 0 6px #22c55e, 100px -34px 0 6px #3b82f6,
            140px -18px 0 6px #ef4444,  180px -26px 0 6px #a855f7, 220px -12px 0 6px #06b6d4;
    animation: q-confetti 900ms ease-out forwards;
    opacity:.9;
}
.quiz-result::after{
    filter: blur(1px);
    animation-delay: 120ms;
}
@keyframes q-confetti{
    0%{ transform: translate(-50%, -10px); opacity:0; }
    100%{ transform: translate(-50%, 40px); opacity:1; }
}

/* ============ Download button ============ */
.quiz-download{
    padding: .7rem 1.25rem;
    border: none; border-radius: 12px;
    background: linear-gradient(90deg, #16a34a, #22c55e);
    color: white; font-weight:800; letter-spacing:.2px; cursor:pointer;
    box-shadow: 0 12px 24px -12px rgba(34,197,94,.6);
    transition: transform .15s ease, filter .2s ease;
}
.quiz-download:hover{ transform: translateY(-1px); filter: brightness(1.05); }
/***********************************************************************************/
/* ===== Progress meter (uses --q-progress from the container) ===== */
.quiz-progress {
    position: relative;
    padding-bottom: 1.1rem;    /* space for the bar */
    margin-bottom: .75rem;
}

/* Track */
.quiz-progress::before {
    content: "";
    position: absolute;
    left: 0; right: 0; bottom: 0;
    height: 8px;
    border-radius: 999px;
    background: color-mix(in srgb, var(--q-accent) 12%, var(--q-surface));
    box-shadow: inset 0 1px 2px rgba(0,0,0,.08);
}

/* Fill */
.quiz-progress::after {
    content: "";
    position: absolute;
    left: 0; bottom: 0;
    height: 8px;
    width: var(--q-progress, 0%);
    border-radius: 999px;
    background:
            linear-gradient(90deg,
            color-mix(in srgb, var(--q-accent) 85%, #ffffff),
            color-mix(in srgb, var(--q-accent) 65%, #ffffff)),
            repeating-linear-gradient(
                    45deg,
                    color-mix(in srgb, var(--q-accent) 95%, #ffffff) 0 12px,
                    color-mix(in srgb, var(--q-accent) 70%, #ffffff) 12px 24px
            );
    background-blend-mode: overlay;
    box-shadow: 0 8px 18px -10px color-mix(in srgb, var(--q-accent) 70%, transparent);
    transition: width .45s cubic-bezier(.22,.8,.26,1), filter .2s ease;
    animation: q-stripes 1.2s linear infinite;
}

/* Subtle motion on the stripes */
@keyframes q-stripes {
    from { background-position: 0 0, 0 0; }
    to   { background-position: 120px 0, 0 0; }
}

/* Dark-mode tuning */
html[data-theme='dark'] .quiz-progress::before {
    background: color-mix(in srgb, var(--q-accent) 22%, var(--q-surface));
}
/*8888888888888888888888888888888888888888888888888888888888888888888888888*/
/* Illustration header */
.quiz-header {
    display: grid;
    grid-template-columns: 84px 1fr;
    gap: 1rem;
    align-items: center;
    margin: .25rem 0 1rem;
}

.quiz-illust {
    width: 84px;
    height: 84px;
    border-radius: 18px;
    display: grid;
    place-items: center;
    color: var(--q-accent);
    background:
            radial-gradient(120% 120% at 20% 0%, color-mix(in srgb, var(--q-accent) 18%, transparent), transparent 55%),
            color-mix(in srgb, var(--q-accent) 10%, var(--q-surface));
    border: 1px solid color-mix(in srgb, var(--q-accent) 30%, transparent);
    box-shadow: 0 10px 20px -14px color-mix(in srgb, var(--q-accent) 60%, transparent);
    position: relative;
    overflow: hidden;
}

/* Subtle sheen */
.quiz-illust::after {
    content: "";
    position: absolute; inset: 0;
    background: linear-gradient(120deg, transparent 0%, rgba(255,255,255,.22) 35%, transparent 70%);
    transform: translateX(-120%);
    animation: q-illust-sheen 2.6s ease-in-out infinite;
    pointer-events: none;
}
@keyframes q-illust-sheen { 50% { transform: translateX(0); } 100% { transform: translateX(120%); } }

.quiz-illust-svg {
    width: 64px; height: 64px;
    filter: drop-shadow(0 3px 6px color-mix(in srgb, var(--q-accent) 25%, transparent));
}

/* Compact title when illustration is present */
.quiz-question { margin: 0; }

/* Mobile adjustments */
@media (max-width: 560px) {
    .quiz-header { grid-template-columns: 64px 1fr; gap: .75rem; }
    .quiz-illust { width: 64px; height: 64px; border-radius: 14px; }
    .quiz-illust-svg { width: 48px; height: 48px; }
}
/*&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&*/
/* Screen-reader only utility */
.sr-only {
    position: absolute !important;
    width: 1px; height: 1px;
    padding: 0; margin: -1px; overflow: hidden;
    clip: rect(0, 0, 0, 0); white-space: nowrap; border: 0;
}
/********************************************************/
/* ===== Glassy question header ===== */
.quiz-title-wrap {
    position: relative;
    isolation: isolate;                           /* keeps shine inside */
    padding: .9rem 1.1rem .95rem 1.1rem;
    border-radius: 16px;

    /* translucent surface + blur for the glass effect */
    background:
            radial-gradient(120% 100% at 0% 0%,
            color-mix(in srgb, var(--q-accent) 10%, transparent) 0%,
            transparent 65%) ,
            color-mix(in srgb, var(--q-surface) 55%, transparent);
    backdrop-filter: blur(10px) saturate(140%);
    -webkit-backdrop-filter: blur(10px) saturate(140%);

    border: 1px solid color-mix(in srgb, var(--q-accent) 35%, transparent);
    box-shadow:
            0 12px 26px -20px rgba(0,0,0,.35),
            0 2px 10px rgba(0,0,0,.04),
            inset 0 1px 0 rgba(255,255,255,.35);        /* subtle inner highlight */
}

/* Soft sheen that moves gently */
.quiz-title-wrap::after {
    content: "";
    position: absolute; inset: 0;
    background: linear-gradient(120deg,
    transparent 0%,
    rgba(255,255,255,.22) 35%,
    transparent 70%);
    transform: translateX(-120%);
    animation: q-glass-sheen 3.5s ease-in-out infinite;
    pointer-events: none;
    border-radius: inherit;
}
@keyframes q-glass-sheen { 50% { transform: translateX(0); } 100% { transform: translateX(120%); } }

/* A thin “marker” bar embedded in the glass */
.quiz-title-wrap::before {
    content: "";
    position: absolute; left: 12px; right: 12px; bottom: 8px;
    height: 3px; border-radius: 999px;
    background: linear-gradient(90deg,
    color-mix(in srgb, var(--q-accent) 75%, #fff),
    color-mix(in srgb, var(--q-accent) 45%, #fff));
    opacity: .18;
    pointer-events: none;
}

/* Tighter headline inside glass */
.quiz-title-wrap .quiz-question {
    margin: 0;
    font-weight: 800;
    font-size: clamp(1.05rem, 0.9rem + 0.6vw, 1.55rem);
    line-height: 1.28;
    max-width: 56ch;
}

/* Reduce the previous underline (if you kept it) so it does not fight the glass marker */
.quiz-title-wrap .quiz-question::after { height: 3px; opacity: .10; }

/* Dark mode tuning: slightly clearer glass and border */
html[data-theme='dark'] .quiz-title-wrap {
    background:
            radial-gradient(120% 100% at 0% 0%,
            color-mix(in srgb, var(--q-accent) 14%, transparent) 0%,
            transparent 65%) ,
            color-mix(in srgb, var(--q-surface) 28%, transparent);
    border-color: color-mix(in srgb, var(--q-accent) 45%, transparent);
    box-shadow:
            0 18px 32px -24px rgba(0,0,0,.6),
            0 2px 10px rgba(0,0,0,.25),
            inset 0 1px 0 rgba(255,255,255,.12);
}

/* Size harmony with your illustration tile */
.quiz-header { grid-template-columns: 72px 1fr; gap: .75rem; }
.quiz-illust { width: 72px; height: 72px; border-radius: 16px; }
.quiz-illust-svg { width: 44px; height: 44px; }

/* Mobile adjustments */
@media (max-width: 560px) {
    .quiz-header { grid-template-columns: 56px 1fr; gap: .6rem; }
    .quiz-illust { width: 56px; height: 56px; border-radius: 12px; }
    .quiz-illust-svg { width: 36px; height: 36px; }
    .quiz-title-wrap .quiz-question { font-size: clamp(1rem, .95rem + .8vw, 1.35rem); max-width: 48ch; }
}
